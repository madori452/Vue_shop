(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-75e68875"],{5895:function(t,e,c){"use strict";c.r(e);var l=c("7a23"),s=c("9d61"),a=c.n(s),r=c("b600"),n=c.n(r),d=c("fe29"),b=c.n(d);const i=t=>(Object(l["C"])("data-v-6d89eb4d"),t=t(),Object(l["A"])(),t),o=Object(l["i"])('<div class="container-fluid d-flex align-items-center justify-content-center px-0" data-v-6d89eb4d><h4 class="en-font" data-v-6d89eb4d>CART</h4><img src="'+a.a+'" class="d-lg-block d-none w-100" alt="banner" data-v-6d89eb4d><img src="'+n.a+'" class="d-md-block d-none d-lg-none w-100" alt="Carousel01" data-v-6d89eb4d><img src="'+b.a+'" class="d-sm-block d-md-none w-100" alt="Carousel01" data-v-6d89eb4d></div>',1),h={class:"container"},u={class:"row my-5 d-flex justify-content-center"},O={class:"step-line mb-4"},j={class:"col-12 d-flex ps-0 justify-content-center align-items-center en-font mx-auto"},p={class:"circle circle01 col-3"},m=i(()=>Object(l["h"])("p",{class:"step"},"確認訂單資訊",-1)),g={class:"circle circle01 col-3 offset-1"},f=i(()=>Object(l["h"])("p",{class:"step"},"建立個人訂單",-1)),y={class:"circle circle01 col-3 offset-1"},x=i(()=>Object(l["h"])("p",{class:"step"},"付款完成",-1)),v={class:"bg-white col-xl-7 row justify-content-center"},k=i(()=>Object(l["h"])("p",{class:"en-font h4"},"訂單資訊",-1)),w=i(()=>Object(l["h"])("hr",null,null,-1)),_={class:"table align-middle mt-3 mb-2 text-900"},L=i(()=>Object(l["h"])("td",null,"訂單編號",-1)),I=i(()=>Object(l["h"])("td",null,null,-1)),z=i(()=>Object(l["h"])("td",null,"建立日期",-1)),$=i(()=>Object(l["h"])("td",null,null,-1)),C={class:"table align-middle mt-5 text-900"},q=i(()=>Object(l["h"])("thead",null,[Object(l["h"])("th"),Object(l["h"])("th",{class:"ps-3"},"品名"),Object(l["h"])("th",null,"數量"),Object(l["h"])("th",null,"單價")],-1)),A={class:"ps-3"},J={class:"text-end"},M=i(()=>Object(l["h"])("td",{colspan:"3",class:"text-end"},"總計",-1)),U={class:"text-end"},E={class:"table text-900"},G=i(()=>Object(l["h"])("th",{width:"100"},"Email",-1)),R=i(()=>Object(l["h"])("th",null,"姓名",-1)),S=i(()=>Object(l["h"])("th",null,"收件人電話",-1)),T=i(()=>Object(l["h"])("th",null,"收件人地址",-1)),W=i(()=>Object(l["h"])("th",null,"付款狀態",-1)),B={key:0},D={key:1,class:"text-success"},F={key:0,class:"text-center"},H=i(()=>Object(l["h"])("input",{value:"確認付款去",type:"submit",class:"btn btn-primary px-4 text-white en-font rounded-0"},null,-1)),K=[H],N={key:1,class:"text-center"},P=i(()=>Object(l["h"])("input",{value:"再去逛逛",type:"submit",class:"btn btn-primary px-4 text-white en-font rounded-0"},null,-1));function Q(t,e,c,s,a,r){const n=Object(l["I"])("CustomLoading"),d=Object(l["I"])("router-link");return Object(l["z"])(),Object(l["g"])(l["a"],null,[Object(l["k"])(n,{active:a.isLoading},null,8,["active"]),o,Object(l["h"])("div",h,[Object(l["h"])("div",u,[Object(l["h"])("div",O,[Object(l["h"])("ul",j,[Object(l["h"])("li",p,[Object(l["h"])("p",{class:Object(l["s"])(["num d-block mx-auto",{primary:!0}])},"1"),m]),Object(l["h"])("li",g,[Object(l["h"])("p",{class:Object(l["s"])(["num d-block mx-auto",{primary:!0}])},"2"),f]),Object(l["h"])("li",y,[Object(l["h"])("p",{class:Object(l["s"])(["num d-block mx-auto",{primary:a.order.is_paid}])},"3",2),x])])]),Object(l["h"])("div",v,[Object(l["h"])("form",{class:"py-5 px-2",onSubmit:e[0]||(e[0]=Object(l["W"])((...t)=>r.payOrder&&r.payOrder(...t),["prevent"]))},[k,w,Object(l["h"])("table",_,[Object(l["h"])("tbody",null,[Object(l["h"])("tr",null,[L,Object(l["h"])("td",null,Object(l["L"])(a.orderId),1),I])]),Object(l["h"])("tbody",null,[Object(l["h"])("tr",null,[z,Object(l["h"])("td",null,Object(l["L"])(t.$filters.date(a.create_at)),1),$])])]),Object(l["h"])("table",C,[q,Object(l["h"])("tbody",null,[(Object(l["z"])(!0),Object(l["g"])(l["a"],null,Object(l["G"])(a.order.products,t=>(Object(l["z"])(),Object(l["g"])("tr",{key:t.id,style:{height:"100px"}},[Object(l["h"])("td",{style:Object(l["t"])([{width:"100px",height:"60px","background-size":"cover","background-position":"center"},{backgroundImage:`url(${t.product.imageUrl})`}])},null,4),Object(l["h"])("td",A,Object(l["L"])(t.product.title),1),Object(l["h"])("td",null,Object(l["L"])(t.qty)+" / "+Object(l["L"])(t.product.unit),1),Object(l["h"])("td",J,Object(l["L"])(Math.round(t.final_total)),1)]))),128))]),Object(l["h"])("tfoot",null,[Object(l["h"])("tr",null,[M,Object(l["h"])("td",U,Object(l["L"])(Math.round(a.order.total)),1)])])]),Object(l["h"])("table",E,[Object(l["h"])("tbody",null,[Object(l["h"])("tr",null,[G,Object(l["h"])("td",null,Object(l["L"])(a.order.user.email),1)]),Object(l["h"])("tr",null,[R,Object(l["h"])("td",null,Object(l["L"])(a.order.user.name),1)]),Object(l["h"])("tr",null,[S,Object(l["h"])("td",null,Object(l["L"])(a.order.user.tel),1)]),Object(l["h"])("tr",null,[T,Object(l["h"])("td",null,Object(l["L"])(a.order.user.address),1)]),Object(l["h"])("tr",null,[W,Object(l["h"])("td",null,[!1===a.order.is_paid?(Object(l["z"])(),Object(l["g"])("span",B,"尚未付款")):Object(l["f"])("",!0),!0===a.order.is_paid?(Object(l["z"])(),Object(l["g"])("span",D,"付款完成")):Object(l["f"])("",!0)])])])]),!1===a.order.is_paid?(Object(l["z"])(),Object(l["g"])("div",F,K)):Object(l["f"])("",!0),!0===a.order.is_paid?(Object(l["z"])(),Object(l["g"])("div",N,[Object(l["k"])(d,{to:"../../user/products"},{default:Object(l["U"])(()=>[P]),_:1})])):Object(l["f"])("",!0)],32)])])])],64)}var V={inject:["emitter"],data(){return{order:{user:{}},orderId:"",isLoading:!1,is_paid:!1,create_at:""}},methods:{getOrder(){const t="https://vue3-course-api.hexschool.io/api/tracytung-vue-api/order/"+this.orderId;this.$http.get(t).then(t=>{t.data.success&&(this.order=t.data.order,this.create_at=t.data.order.create_at,this.emitter.emit("update-qty"))}).catch(t=>{this.$swal({icon:"error",title:""+t.data.message})})},payOrder(){const t="https://vue3-course-api.hexschool.io/api/tracytung-vue-api/pay/"+this.orderId;this.$http.post(t).then(t=>{t.data.success&&(this.getOrder(),this.is_paid=!0)}).catch(t=>{this.$swal({icon:"error",title:""+t.data.message})})}},created(){this.orderId=this.$route.params.orderId,this.getOrder()}},X=(c("819f"),c("6b0d")),Y=c.n(X);const Z=Y()(V,[["render",Q],["__scopeId","data-v-6d89eb4d"]]);e["default"]=Z},"77d2":function(t,e,c){},"819f":function(t,e,c){"use strict";c("77d2")},"9d61":function(t,e,c){t.exports=c.p+"img/banner-cart.3775134b.png"},b600:function(t,e,c){t.exports=c.p+"img/cart-pd.3635a89c.png"},fe29:function(t,e,c){t.exports=c.p+"img/cart-mb.1e24b860.png"}}]);
//# sourceMappingURL=chunk-75e68875.c2fc9417.js.map