{"version":3,"sources":["webpack:///./src/assets/Cart/cart-mb.png","webpack:///./src/views/Front/Cart.vue","webpack:///./src/views/Front/Cart.vue?2783","webpack:///./src/views/Front/Cart.vue?e246","webpack:///./src/assets/Cart/banner-cart.png","webpack:///./src/assets/Cart/cart-pd.png"],"names":["module","exports","class","_createElementVNode","style","_hoisted_22","colspan","for","_createVNode","_component_CustomLoading","active","$data","_hoisted_1","primary","_hoisted_7","_hoisted_8","carts","_createElementBlock","length","_hoisted_13","_component_router_link","to","_hoisted_14","_hoisted_17","_hoisted_18","_hoisted_20","_Fragment","key","_renderList","item","id","type","disabled","loadingItem","onClick","$options","product","title","coupon","min","qty","$event","onChange","_toDisplayString","unit","final_total","total","_ctx","currency","_hoisted_30","_hoisted_32","_hoisted_33","placeholder","_component_Form","onSubmit","errors","_hoisted_40","_hoisted_41","_hoisted_43","_component_Field","name","rules","user","email","_component_ErrorMessage","_hoisted_45","_hoisted_47","tel","_hoisted_49","address","_hoisted_51","cols","rows","message","_hoisted_52","data","form","status","isLoading","cart","coupon_code","inject","methods","getCart","url","this","$http","get","then","res","updateCart","product_id","put","catch","err","$swal","icon","addCouponCode","code","post","$httpMessageState","removeCartItem","delete","emitter","emit","createOrder","order","orderId","$router","push","created","__exports__","render"],"mappings":"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","file":"js/chunk-7a49f8d4.d7dac068.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/cart-mb.1e24b860.png\";","<template>\n  <CustomLoading :active=\"isLoading\"></CustomLoading>\n  <!-- Banner -->\n  <div class=\"container-fluid d-flex align-items-center justify-content-center px-0\">\n    <h4 class=\"en-font\">CART</h4>\n    <img src=\"@/assets/Cart/banner-cart.png\" class=\"d-lg-block d-none w-100\" alt=\"banner\">\n    <img src=\"@/assets/Cart/cart-pd.png\" class=\"d-md-block d-none d-lg-none w-100\" alt=\"Carousel01\">\n    <img src=\"@/assets/Cart/cart-mb.png\" class=\"d-sm-block d-md-none w-100\" alt=\"Carousel01\">\n  </div>\n  <!-- 內容 -->\n  <div class=\"container\">\n    <div class=\"row my-5\">\n      <!-- 步驟 -->\n      <div class=\"step-line mb-4\">\n        <ul class=\"col-12 d-flex ps-0 justify-content-center align-items-center en-font mx-auto\">\n          <li class=\"circle circle01 col-3\">\n            <p class=\"num d-block mx-auto\" :class=\"{primary:true}\">1</p>\n            <p class=\"step\">確認訂單資訊</p>\n          </li>\n          <li class=\"circle circle01 col-3  offset-1\">\n            <p class=\"num d-block mx-auto\">2</p>\n            <p class=\"step\">建立個人訂單</p>\n          </li>\n          <li class=\"circle circle01 col-3  offset-1\">\n            <p class=\"num d-block mx-auto\">3</p>\n            <p class=\"step\">付款完成</p>\n          </li>\n        </ul>\n      </div>\n      <!-- 購物列表 -->\n      <div class=\"row mx-auto\"  v-if=\"cart.carts\">\n          <!-- 購物車0-->\n          <div class=\"col-lg-6 mx-auto text-center my-5 cart-none bg-white\" v-if=\"cart.carts.length===0\">\n            <div class=\"go-shop mx-auto d-flex justify-content-center align-items-center flex-column\">\n              <h5 class=\"text-primary en-font\">目前還沒有商品！快去選購吧</h5>\n              <router-link to=\"../user/products\">\n                <button class=\"shop btn btn-primary py-2 px-5 text-white rounded-0\">選擇商品</button>\n              </router-link>\n            </div>\n          </div>\n          <!-- 購物車列表 -->\n          <div class=\"col-xl-5 cart-list-menu bg-white offset-xl-1\" v-if=\"cart.carts.length>=1\">\n            <div class=\"px-1\">\n              <p class=\"h5 en-font mt-5\">購物清單</p>\n              <hr />\n              <table class=\"table align-middle px-4\">\n                <thead>\n                  <tr>\n                    <th></th>\n                    <th style=\"width: 230px\">品名</th>\n                    <th style=\"width: 110px\">數量</th>\n                    <th class=\"text-end\">單價</th>\n                  </tr>\n                </thead>\n                <tbody>\n                <template v-if=\"cart.carts\">\n                  <tr v-for=\"item in cart.carts\" :key=\"item.id\">\n                    <td>\n                      <button type=\"button\" class=\"btn btn-outline-primary btn-sm btn-cancel\"\n                              :disabled=\"status.loadingItem === item.id\"\n                              @click=\"removeCartItem(item.id)\">\n                        <i class=\"bi bi-x\"></i>\n                      </button>\n                    </td>\n                    <td>\n                      {{ item.product.title }}\n                      <div class=\"text-success\" v-if=\"item.coupon\">\n                        已套用優惠券\n                      </div>\n                    </td>\n                    <td>\n                      <div class=\"input-group input-group-sm\">\n                        <input type=\"number\"\n                              class=\"form-control\"\n                              min=\"1\"\n                              v-model.number=\"item.qty\"\n                              @change=\"updateCart(item)\"\n                              :disabled=\"item.id===status.loadingItem\"\n                              style=\"width:30px\">\n                        <span class=\"input-group-text\">/{{ item.product.unit }}</span>\n                      </div>\n                    </td>\n                    <td class=\"text-end\">\n                      <small v-if=\"cart.final_total !== cart.total\" class=\"text-success\">折扣價：</small>\n                      {{ $filters.currency(item.final_total) }}\n                    </td>\n                  </tr>\n                </template>\n                </tbody>\n                <tfoot>\n                <tr>\n                  <td colspan=\"3\" class=\"text-end\">總計</td>\n                  <td class=\"text-end\">{{ $filters.currency(cart.total) }}</td>\n                </tr>\n                <tr v-if=\"cart.final_total !== cart.total\">\n                  <td colspan=\"3\" class=\"text-end text-success\">折扣價</td>\n                  <td class=\"text-end text-success\">{{ $filters.currency(cart.final_total) }}</td>\n                </tr>\n                </tfoot>\n\n              </table>\n              <!-- 優惠卷 -->\n              <div class=\"row w-100 m-0 coupon-code\">\n                <div class=\"col-12 d-flex justify-content-end\">\n                    <input type=\"text\" class=\"form-control d-inline-block\" v-model=\"coupon_code\" placeholder=\"請輸入優惠碼\">\n                    <button class=\"btn btn-outline-secondary coupon d-inline-block ms-2 col-4\" type=\"button\" @click=\"addCouponCode\">\n                        套用優惠碼\n                    </button>\n                </div>\n              </div>\n\n            </div>\n          </div>\n          <!-- 表格 -->\n          <div class=\"form-table-info col-xl-5 px-0\"  v-if=\"cart.carts.length>=1\">\n            <div class=\"bg-white\">\n                <div class=\"row\">\n                  <Form class=\"col-md-12 d-flex justify-content-center flex-column form-order\" @submit=\"createOrder\"  v-slot=\"{ errors }\">\n                    <p class=\"h5 en-font mt-5\">訂購人資料</p>\n                    <hr />\n                    <div class=\"mb-3 mt-3\">\n                      <label for=\"email\" class=\"form-label\">Email</label>\n                      <Field id=\"email\" name=\"email\" type=\"email\" class=\"form-control\"\n                                :class=\"{ 'is-invalid': errors['email'] }\"\n                                placeholder=\"請輸入 Email\" rules=\"email|required\"\n                                v-model=\"form.user.email\"></Field>\n                      <ErrorMessage name=\"email\" class=\"invalid-feedback\"></ErrorMessage>\n                    </div>\n\n                    <div class=\"mb-3\">\n                      <label for=\"name\" class=\"form-label\">姓名</label>\n                      <Field id=\"name\" name=\"姓名\" type=\"text\" class=\"form-control\"\n                                :class=\"{ 'is-invalid': errors['姓名'] }\"\n                                placeholder=\"請輸入姓名\" rules=\"required\"\n                                v-model=\"form.user.name\"></Field>\n                      <ErrorMessage name=\"姓名\" class=\"invalid-feedback\"></ErrorMessage>\n                    </div>\n\n                    <div class=\"mb-3\">\n                      <label for=\"tel\" class=\"form-label\">電話</label>\n                      <Field id=\"tel\" name=\"電話\" type=\"tel\" class=\"form-control\"\n                                :class=\"{ 'is-invalid': errors['電話'] }\"\n                                placeholder=\"請輸入電話\" rules=\"required\"\n                                v-model=\"form.user.tel\"></Field>\n                      <ErrorMessage name=\"電話\" class=\"invalid-feedback\"></ErrorMessage>\n                    </div>\n\n                    <div class=\"mb-3\">\n                      <label for=\"address\" class=\"form-label\">地址</label>\n                      <Field id=\"address\" name=\"地址\" type=\"text\" class=\"form-control\"\n                                :class=\"{ 'is-invalid': errors['地址'] }\"\n                                placeholder=\"請輸入地址\" rules=\"required\"\n                                v-model=\"form.user.address\"></Field>\n                      <ErrorMessage name=\"地址\" class=\"invalid-feedback\"></ErrorMessage>\n                    </div>\n\n                    <div class=\"mb-3\">\n                      <label for=\"message\" class=\"form-label\">留言</label>\n                      <textarea name=\"\" id=\"message\" class=\"form-control\" cols=\"30\" rows=\"2\"\n                                v-model=\"form.message\"></textarea>\n                    </div>\n                    <div class=\"text-end\">\n                      <button class=\"btn btn-primary w-100 mb-5 py-2 text-white rounded-0\" >送出訂單</button>\n                    </div>\n                  </Form>\n              </div>\n            </div>\n          </div>\n      </div>\n\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n@import '@/assets/scss/main.scss';\nh4.en-font{\n  position: absolute;\n  z-index: 2;\n  color: #fff;\n  font-size: $text_titile;\n}\n.step,.step-line {\n  position: relative;\n}\n.step-line:after{\n  display: block;\n  content: '';\n  width: 360px;\n  height: 2px;\n  position: absolute;\n  left: calc(50% - 176px);\n  top: 15px;\n  z-index: 0;\n  background-color: #ddd;\n  @include pad{\n    width: 340px;\n    left: calc(50% - 158px);\n  }\n  @include phone{\n    width: 263px;\n    left: calc(50% - 130px);\n  }\n}\n\n.step-line ul{\n  width: 500px;\n  @include phone{\n    width: 100%;\n  }\n}\np.step{\n  @include phone{\n    font-size: 14px;\n  }\n}\n.step-line ul li{\n  list-style: none;\n}\n.step-line .step{\n  text-align: center;\n}\n.step-line .num{\n  z-index: 1;\n  position: relative;\n  width: 30px;\n  height: 30px;\n  text-align: center;\n  color: #fff;\n  line-height: 30px;\n  border-radius: 50%;\n  font-size: 20px;\n  background-color: #aaa;\n}\n.primary{\n  background-color: $primary !important;\n}\n.cart-list-menu{\n  position: relative;\n  z-index: 0;\n  height: auto;\n  margin-right: 20px;\n}\n.cart-none{\n  padding: 100px 0;\n}\n.form-control{\n  width: 200px;\n  border-radius: 0px;\n}\nbutton.coupon{\n  font-size: 16px;\n  @include phone{\n    font-size: 14px;\n  }\n}\n.btn-next{\n  @include button-primary-cart;\n  width: 110px;\n  height: 40px;\n  border-radius: 5px;\n  font-size: 16px;\n}\n\n.btn-cancel{\n  width: 30px;\n  height: 30px;\n}\n.form-control{\n  width: 100%;\n  margin: auto;\n}\n.form-order{\n  padding: 0px 30px;\n  @include phone{\n    padding: 0px 40px;\n  }\n}\n.coupon-code{\n  @include pad{\n    padding-bottom: 40px;\n  }\n}\n.form-table-info {\n  @include pad{\n    margin-top: 20px;\n  }\n}\n</style>\n\n<script>\n\nexport default {\n  data () {\n    return {\n      form: {\n        user: {\n          name: '',\n          email: '',\n          tel: '',\n          address: ''\n        },\n        message: ''\n      },\n      status: {\n        loadingItem: '' // 對應品項id\n      },\n      isLoading: false,\n      cart: {},\n      coupon_code: ''\n    }\n  },\n\n  inject: ['emitter'],\n  methods: {\n\n    // 取得購物車列表\n    getCart () {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\n      this.isLoading = true\n      this.$http.get(url).then((res) => {\n        this.cart = res.data.data\n        this.isLoading = false\n      })\n    },\n    // 監聽購物車變動\n    updateCart (item) {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${item.id}`\n      this.isLoading = true\n      this.status.loadingItem = item.id\n      const cart = {\n        product_id: item.product_id,\n        qty: item.qty\n      }\n      this.$http.put(url, { data: cart }).then((res) => {\n        this.getCart()\n        this.status.loadingItem = ''\n      }).catch(err => {\n        this.$swal({\n          icon: 'error',\n          title: `${err.data.message}`\n        })\n      })\n    },\n    // 套用優惠卷\n    addCouponCode () {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/coupon`\n      const coupon = {\n        code: this.coupon_code\n      }\n      this.$http.post(url, { data: coupon }).then((res) => {\n        this.$httpMessageState(res, '加入優惠券')\n        this.getCart()\n      }).catch(err => {\n        this.$swal({\n          icon: 'error',\n          title: `${err.data.message}`\n        })\n      })\n    },\n    // 移除購物車內容\n    removeCartItem (id) {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${id}`\n      this.isLoading = true\n      this.status.loadingItem = id\n      this.$http.delete(url).then((res) => {\n        this.status.loadingItem = ''\n        this.emitter.emit('update-qty')\n\n        this.$httpMessageState(res, '刪除購物車品項')\n        this.getCart()\n        this.isLoading = false\n      }).catch(err => {\n        this.$swal({\n          icon: 'error',\n          title: `${err.data.message}`\n        })\n      })\n    },\n    // 建立訂單\n    createOrder () {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`\n      const order = this.form\n      this.$http.post(url, { data: order })\n        .then((res) => {\n          this.orderId = res.data.orderId\n          this.$router.push(`/checkout/${this.orderId}`)\n        }).catch(err => {\n          this.$swal({\n            icon: 'error',\n            title: `${err.data.message}`\n          })\n        })\n    }\n\n  },\n\n  created () {\n    this.getCart()\n  }\n\n}\n</script>\n","import { render } from \"./Cart.vue?vue&type=template&id=bba6a390&scoped=true\"\nimport script from \"./Cart.vue?vue&type=script&lang=js\"\nexport * from \"./Cart.vue?vue&type=script&lang=js\"\n\nimport \"./Cart.vue?vue&type=style&index=0&id=bba6a390&scoped=true&lang=scss\"\n\nimport exportComponent from \"/Users/Cindy/Desktop/Vue_final/final_project/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-bba6a390\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Cart.vue?vue&type=style&index=0&id=bba6a390&scoped=true&lang=scss\"","module.exports = __webpack_public_path__ + \"img/banner-cart.3775134b.png\";","module.exports = __webpack_public_path__ + \"img/cart-pd.3635a89c.png\";"],"sourceRoot":""}