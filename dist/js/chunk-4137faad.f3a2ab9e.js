(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4137faad"],{1799:function(t,e,a){"use strict";var s=a("7a23");const c={"aria-label":"Page navigation example"},i={class:"pagination justify-content-center"},o=Object(s["h"])("a",{class:"page-link",href:"#","aria-label":"Previous"},[Object(s["h"])("span",{"aria-hidden":"true"},"«")],-1),r=[o],d=["onClick"],n=Object(s["h"])("a",{class:"page-link",href:"#","aria-label":"Next"},[Object(s["h"])("span",{"aria-hidden":"true"},"»")],-1),l=[n];function p(t,e,a,o,n,p){return Object(s["z"])(),Object(s["g"])("nav",c,[Object(s["h"])("ul",i,[Object(s["h"])("li",{class:"page-item",onClick:e[0]||(e[0]=Object(s["W"])(t=>p.updatePage(a.pages.current_page-1),["prevent"]))},r),(Object(s["z"])(!0),Object(s["g"])(s["a"],null,Object(s["G"])(a.pages.total_pages,t=>(Object(s["z"])(),Object(s["g"])("li",{class:Object(s["s"])(["page-item",{active:t===a.pages.current_page}]),key:t},[Object(s["h"])("a",{class:"page-link",href:"#",onClick:Object(s["W"])(e=>p.updatePage(t),["prevent"])},Object(s["L"])(t),9,d)],2))),128)),Object(s["h"])("li",{class:"page-item",onClick:e[1]||(e[1]=Object(s["W"])(t=>p.updatePage(a.pages.current_page+1),["prevent"]))},l)])])}var u={props:["pages","productClass"],emits:["emit-pages"],methods:{updatePage(t){this.$emit("emit-pages",t)}}},g=a("6b0d"),h=a.n(g);const b=h()(u,[["render",p]]);e["a"]=b},"56aa":function(t,e,a){"use strict";a("de58")},"5d74":function(t,e,a){"use strict";a.r(e);var s=a("7a23"),c=a("d097"),i=a.n(c),o=a("870b"),r=a.n(o),d=a("945d"),n=a.n(d);const l=t=>(Object(s["C"])("data-v-11206236"),t=t(),Object(s["A"])(),t),p=Object(s["i"])('<div class="container-fluid d-flex align-items-center justify-content-center px-0" data-aos="fade-up" data-aos-duration="800" data-aos-once="true" data-aos-delay="600" data-v-11206236><p class="en-font title fs-3-lg fs-4-md" data-v-11206236>ALL PRODUCTS</p><img src="'+i.a+'" class="d-lg-block d-none w-100" alt="Carousel01" data-v-11206236><img src="'+r.a+'" class="d-md-block d-none d-lg-none w-100" alt="Carousel01" data-v-11206236><img src="'+n.a+'" class="d-sm-block d-md-none w-100" alt="Carousel01" data-v-11206236></div>',1),u={class:"container mx-auto pt-5"},g={class:"row"},h={class:"col-md-3","data-aos":"fade-up","data-aos-duration":"800","data-aos-once":"true","data-aos-delay":"900"},b={class:"list-group mt-5 en-font"},j=["onClick"],O={class:"col-md-9 mb-5","data-aos":"fade-up","data-aos-duration":"800","data-aos-once":"true","data-aos-delay":"900"},m=Object(s["j"])(" see more "),v={class:"card-body"},f={class:"card-title en-font"},y={key:0,class:"h5"},k={class:"row"},C={key:0,class:"h5 col-md-8 pe-2 text-end"},P={key:0,class:"h6 text-start d-block"},w={class:"text-start price"},x=["disabled","onClick"],L={key:0,class:"spinner-grow spinner-grow-sm",role:"status","aria-hidden":"true"},z=l(()=>Object(s["h"])("i",{class:"bi bi-cart3 p-0"},null,-1));function I(t,e,a,c,i,o){const r=Object(s["I"])("CustomLoading"),d=Object(s["I"])("router-link"),n=Object(s["I"])("Pagination");return Object(s["z"])(),Object(s["g"])(s["a"],null,[Object(s["k"])(r,{active:t.isLoading},null,8,["active"]),p,Object(s["h"])("div",u,[Object(s["h"])("div",g,[Object(s["h"])("div",h,[Object(s["h"])("div",b,[Object(s["h"])("a",{class:Object(s["s"])([{active:""===i.productClass},"list-group-item list-group-item-action"]),onClick:e[0]||(e[0]=Object(s["W"])(e=>o.allProduct(t.item),["prevent"])),href:"#","aria-current":"true"}," 所有產品 ",2),(Object(s["z"])(!0),Object(s["g"])(s["a"],null,Object(s["G"])(i.productfilter,t=>(Object(s["z"])(),Object(s["g"])("a",{class:Object(s["s"])([{active:t===i.productClass},"list-group-item list-group-item-action"]),onClick:Object(s["W"])(e=>o.changeProduct(t),["prevent"]),key:t.id,href:"#"},Object(s["L"])(t),11,j))),128))])]),Object(s["h"])("div",O,[(Object(s["z"])(!0),Object(s["g"])(s["a"],null,Object(s["G"])(i.typeproducts,t=>(Object(s["z"])(),Object(s["g"])("div",{class:"card rounded-0 col-lg-3 me-3 mt-3",key:t.id},[Object(s["h"])("div",{class:"bg-image",style:Object(s["t"])({backgroundImage:`url(${t.imageUrl})`})},[Object(s["k"])(d,{class:"en-font h4 mask text-white text-center position-absolute",to:"/user/product/"+t.id},{default:Object(s["U"])(()=>[m]),_:2},1032,["to"])],4),Object(s["h"])("div",v,[Object(s["h"])("h5",f,Object(s["L"])(t.title),1),t.price?Object(s["f"])("",!0):(Object(s["z"])(),Object(s["g"])("div",y,Object(s["L"])(t.origin_price)+" 元",1)),Object(s["h"])("div",k,[t.price?(Object(s["z"])(),Object(s["g"])("div",C,[t.price?(Object(s["z"])(),Object(s["g"])("del",P,"NT "+Object(s["L"])(t.origin_price)+" 元",1)):Object(s["f"])("",!0),Object(s["h"])("h4",w,"NT "+Object(s["L"])(t.price)+" 元",1)])):Object(s["f"])("",!0),Object(s["h"])("button",{type:"button",class:"py-0 col-4 btn btn-cart btn-outline-primary",disabled:this.status.loadingItem===t.id,onClick:e=>o.addCart(t.id)},[this.status.loadingItem===t.id?(Object(s["z"])(),Object(s["g"])("span",L)):Object(s["f"])("",!0),z],8,x)])])]))),128))])]),""===i.productClass?(Object(s["z"])(),Object(s["e"])(n,{key:0,class:"my-5",pages:i.pagination,"product-class":i.productClass,onEmitPages:o.getProductPage},null,8,["pages","product-class","onEmitPages"])):Object(s["f"])("",!0)])],64)}var $=a("1799"),_={data(){return{products:[],allproducts:[],pagination:{},pages:[],productfilter:[],typeproducts:[],productClass:"",status:{loadingItem:""},cart:{},coupon_code:"",orderId:""}},components:{Pagination:$["a"]},inject:["emitter"],methods:{getProducts(){const t="https://vue3-course-api.hexschool.io/api/tracytung-vue-api/products/all";this.isLoading=!0,this.$http.get(t).then(t=>{t.data.success&&(this.allproducts=t.data.products,this.isLoading=!1)}).catch(t=>{this.$swal({icon:"error",title:""+t.data.message})})},getProductPage(t=1){this.isLoading=!0;const e="https://vue3-course-api.hexschool.io/api/tracytung-vue-api/products?page="+t;this.$http.get(e).then(t=>{t.data.success&&(this.products=t.data.products,this.typeproducts=this.products,this.pagination=t.data.pagination,this.isLoading=!1,this.products.filter(t=>{-1===this.productfilter.indexOf(t.category)&&this.productfilter.push(t.category)}))}).catch(t=>{this.$swal({icon:"error",title:""+t.data.message})})},allProduct(){this.typeproducts=this.products.filter(t=>""!==t.category),this.productClass=""},changeProduct(t){this.typeproducts=this.allproducts.filter(e=>{if(t===e.category)return e}),this.productClass=t},addCart(t){const e="https://vue3-course-api.hexschool.io/api/tracytung-vue-api/cart",a={product_id:t,qty:1};this.status.loadingItem=t,this.isLoading=!0,this.$http.post(e,{data:a}).then(t=>{t.data.success&&(this.status.loadingItem="",this.isLoading=!1,this.getCart(),this.$httpMessageState(t,"已加入購物車"),this.emitter.emit("update-qty"))}).catch(t=>{this.$swal({icon:"error",title:""+t.data.message})})},getCart(){const t="https://vue3-course-api.hexschool.io/api/tracytung-vue-api/cart";this.$http.get(t).then(t=>{this.cart=t.data.data}).catch(t=>{this.$swal({icon:"error",title:""+t.data.message})})},updateCart(t){const e="https://vue3-course-api.hexschool.io/api/tracytung-vue-api/cart/"+t.id;this.isLoading=!0,this.status.loadingItem=t.id;const a={product_id:t.product_id,qty:t.qty};this.$http.put(e,{data:a}).then(t=>{this.getCart(),this.status.loadingItem=""}).catch(t=>{this.$swal({icon:"error",title:""+t.data.message})})}},created(){this.getProducts(),this.getCart(),this.getProductPage()}},W=(a("56aa"),a("6b0d")),q=a.n(W);const G=q()(_,[["render",I],["__scopeId","data-v-11206236"]]);e["default"]=G},"870b":function(t,e,a){t.exports=a.p+"img/01-pd.0e251982.png"},"945d":function(t,e,a){t.exports=a.p+"img/01-mb.87137e7b.png"},d097:function(t,e,a){t.exports=a.p+"img/banner.8f2367dc.png"},de58:function(t,e,a){}}]);
//# sourceMappingURL=chunk-4137faad.f3a2ab9e.js.map