(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6cb8dd13"],{"0e33":function(t,e,a){t.exports=a.p+"img/01-pd.7dfc2db2.png"},1799:function(t,e,a){"use strict";var s=a("7a23");const i={"aria-label":"Page navigation example"},c={class:"pagination justify-content-center"},o=Object(s["h"])("a",{class:"page-link",href:"#","aria-label":"Previous"},[Object(s["h"])("span",{"aria-hidden":"true"},"«")],-1),r=[o],n=["onClick"],d=Object(s["h"])("a",{class:"page-link",href:"#","aria-label":"Next"},[Object(s["h"])("span",{"aria-hidden":"true"},"»")],-1),l=[d];function u(t,e,a,o,d,u){return Object(s["z"])(),Object(s["g"])("nav",i,[Object(s["h"])("ul",c,[Object(s["h"])("li",{class:"page-item me-2",onClick:e[0]||(e[0]=Object(s["W"])(t=>u.updatePage(a.pages.current_page-1),["prevent"]))},r),(Object(s["z"])(!0),Object(s["g"])(s["a"],null,Object(s["G"])(a.pages.total_pages,t=>(Object(s["z"])(),Object(s["g"])("li",{class:Object(s["s"])(["page-item me-2",{active:t===a.pages.current_page}]),key:t},[Object(s["h"])("a",{class:"page-link",href:"#",onClick:Object(s["W"])(e=>u.updatePage(t),["prevent"])},Object(s["L"])(t),9,n)],2))),128)),Object(s["h"])("li",{class:"page-item",onClick:e[1]||(e[1]=Object(s["W"])(t=>u.updatePage(a.pages.current_page+1),["prevent"]))},l)])])}var p={props:["pages","productClass"],emits:["emit-pages"],methods:{updatePage(t){this.$emit("emit-pages",t)}}},h=a("6b0d"),g=a.n(h);const b=g()(p,[["render",u]]);e["a"]=b},4595:function(t,e,a){t.exports=a.p+"img/banner.62964f10.png"},5630:function(t,e,a){t.exports=a.p+"img/01-mb.5a4dd893.png"},"5d74":function(t,e,a){"use strict";a.r(e);var s=a("7a23"),i=a("4595"),c=a.n(i),o=a("0e33"),r=a.n(o),n=a("5630"),d=a.n(n);const l=t=>(Object(s["C"])("data-v-5469332d"),t=t(),Object(s["A"])(),t),u=Object(s["i"])('<div class="container-fluid d-flex align-items-center justify-content-center px-0" data-aos="fade-up" data-aos-duration="800" data-aos-once="true" data-aos-delay="600" data-v-5469332d><p class="en-font title fs-3-lg fs-4-md" data-v-5469332d>所有產品</p><img src="'+c.a+'" class="d-lg-block d-none w-100" alt="Carousel01" data-v-5469332d><img src="'+r.a+'" class="d-md-block d-none d-lg-none w-100" alt="Carousel01" data-v-5469332d><img src="'+d.a+'" class="d-sm-block d-md-none w-100" alt="Carousel01" data-v-5469332d></div>',1),p={class:"container pt-5"},h={class:"row"},g={class:"col-md-3","data-aos":"fade-up","data-aos-duration":"800","data-aos-once":"true","data-aos-delay":"900"},b={class:"list-group mt-4 en-font"},O=["onClick"],j={class:"col-md-9 my-4","data-aos":"fade-up","data-aos-duration":"800","data-aos-once":"true","data-aos-delay":"900"},m={class:"row"},v={class:"card rounded-0"},y=Object(s["j"])(" see more "),f={class:"card-body"},k={class:"card-title en-font text-hidden"},C={key:0,class:"h5"},P={class:"row"},F={class:"col-5 pe-0"},w={key:0,class:"h6 text-start lh-lg price-origin"},x={class:"col-7"},I={class:"text-end price"},L={class:"d-flex justify-content-end"},$=["onClick"],z={key:0},_=l(()=>Object(s["h"])("i",{class:"bi bi-heart-fill"},null,-1)),S=[_],N={key:1},J=l(()=>Object(s["h"])("i",{class:"bi bi-heart"},null,-1)),q=[J],M=["onClick"],W=l(()=>Object(s["h"])("i",{class:"bi bi-cart3 p-0"},null,-1)),E=[W];function G(t,e,a,i,c,o){const r=Object(s["I"])("CustomLoading"),n=Object(s["I"])("router-link"),d=Object(s["I"])("Pagination");return Object(s["z"])(),Object(s["g"])(s["a"],null,[Object(s["k"])(r,{active:t.isLoading},null,8,["active"]),u,Object(s["h"])("div",p,[Object(s["h"])("div",h,[Object(s["h"])("div",g,[Object(s["h"])("div",b,[Object(s["h"])("a",{class:Object(s["s"])([{active:""===c.productClass},"list-group-item list-group-item-action"]),onClick:e[0]||(e[0]=Object(s["W"])(t=>o.allProduct(),["prevent"])),href:"#","aria-current":"true"}," 所有產品 ",2),(Object(s["z"])(!0),Object(s["g"])(s["a"],null,Object(s["G"])(c.productFilter,t=>(Object(s["z"])(),Object(s["g"])("a",{class:Object(s["s"])([{active:t===c.productClass},"list-group-item list-group-item-action"]),onClick:Object(s["W"])(e=>o.changeProduct(t),["prevent"]),key:t.id,href:"#"},Object(s["L"])(t),11,O))),128))])]),Object(s["h"])("div",j,[Object(s["h"])("div",m,[(Object(s["z"])(!0),Object(s["g"])(s["a"],null,Object(s["G"])(o.filterProduct,t=>(Object(s["z"])(),Object(s["g"])("div",{class:"col-md-6 col-lg-4 px-md-2 px-4",key:t.id},[Object(s["h"])("div",v,[Object(s["h"])("div",{class:"bg-image",style:Object(s["t"])({backgroundImage:`url(${t.imageUrl})`})},[Object(s["k"])(n,{class:"en-font h4 mask text-white text-center position-absolute",to:"/user/product/"+t.id},{default:Object(s["U"])(()=>[y]),_:2},1032,["to"])],4),Object(s["h"])("div",f,[Object(s["h"])("h5",k,Object(s["L"])(t.title),1),t.price?Object(s["f"])("",!0):(Object(s["z"])(),Object(s["g"])("div",C,Object(s["L"])(t.origin_price)+" 元",1)),Object(s["h"])("div",P,[Object(s["h"])("div",F,[t.price?(Object(s["z"])(),Object(s["g"])("del",w,"NT "+Object(s["L"])(t.origin_price)+" 元",1)):Object(s["f"])("",!0)]),Object(s["h"])("div",x,[Object(s["h"])("h4",I,"NT "+Object(s["L"])(t.price)+" 元",1)])]),Object(s["h"])("div",L,[Object(s["h"])("button",{type:"button",class:"rounded-0 py-0 col-6 btn btn-outline-primary me-1",onClick:e=>o.addFavorite(t)},[JSON.stringify(c.myFavorite).includes(t.id)?(Object(s["z"])(),Object(s["g"])("span",z,S)):(Object(s["z"])(),Object(s["g"])("span",N,q))],8,$),Object(s["h"])("button",{type:"button",class:Object(s["s"])(["rounded-0 py-0 col-6 btn btn-cart btn-outline-primary ms-1",{disabled:this.status.loadingItem===t.id}]),onClick:e=>o.addCart(t.id)},E,10,M)])])])]))),128))])])]),""===c.productClass?(Object(s["z"])(),Object(s["e"])(d,{key:0,class:"my-5",pages:c.pagination,"product-class":c.productClass,onEmitPages:o.getProductPage},null,8,["pages","product-class","onEmitPages"])):Object(s["f"])("",!0)])],64)}var T=a("1799");const U={getLikeItem(){return JSON.parse(localStorage.getItem("MyFavorite"))}};var A={data(){return{products:[],allProducts:[],pagination:{},pages:[],productFilter:[],productClass:"",status:{loadingItem:""},cart:{},coupon_code:"",orderId:"",myFavorite:U.getLikeItem()||[]}},components:{Pagination:T["a"]},inject:["emitter"],computed:{filterProduct:function(){return this.products.filter(t=>t.category.match(this.productClass))}},methods:{getProducts(){const t="https://vue3-course-api.hexschool.io/api/tracytung-vue-api/products/all";this.isLoading=!0,this.$http.get(t).then(t=>{t.data.success&&(this.allProducts=t.data.products,this.isLoading=!1)}).catch(t=>{this.$swal({icon:"error",title:""+t.data.message})})},getProductPage(t=1){this.isLoading=!0;const e="https://vue3-course-api.hexschool.io/api/tracytung-vue-api/products?page="+t;this.$http.get(e).then(t=>{t.data.success&&(this.products=t.data.products,this.pagination=t.data.pagination,this.isLoading=!1,this.products.filter(t=>{-1===this.productFilter.indexOf(t.category)&&(this.productFilter.push(t.category),console.log(this.productFilter,"filter"))}))}).catch(t=>{this.$swal({icon:"error",title:""+t.data.message})})},allProduct(){this.getProductPage(),this.productClass=""},changeProduct(t){this.getProductPage(),this.productClass=t},getFavorite(){this.myFavorite=U.getLikeItem()||[]},addFavorite(t){if(this.myFavorite=U.getLikeItem()||[],JSON.stringify(this.myFavorite).includes(t.id)){this.myFavorite.forEach((e,a)=>{e.id===t.id&&this.myFavorite.splice(a,1)});const e=JSON.stringify(this.myFavorite);localStorage.setItem("MyFavorite",e),this.$swal({icon:"warning",title:"已從最愛中移除"})}else{this.myFavorite.push(t);const e=JSON.stringify(this.myFavorite);localStorage.setItem("MyFavorite",e),this.myFavorite=JSON.parse(localStorage.getItem("MyFavorite")),this.$swal({icon:"success",title:"儲存成功！"})}this.emitter.emit("favorite-qty")},addCart(t){const e="https://vue3-course-api.hexschool.io/api/tracytung-vue-api/cart",a={product_id:t,qty:1};this.status.loadingItem=t,this.isLoading=!0,this.$http.post(e,{data:a}).then(t=>{t.data.success&&(this.status.loadingItem="",this.isLoading=!1,this.getCart(),this.$httpMessageState(t,"已加入購物車"),this.emitter.emit("update-qty"))}).catch(t=>{this.$swal({icon:"error",title:""+t.data.message})})},getCart(){const t="https://vue3-course-api.hexschool.io/api/tracytung-vue-api/cart";this.$http.get(t).then(t=>{this.cart=t.data.data}).catch(t=>{this.$swal({icon:"error",title:""+t.data.message})})},updateCart(t){const e="https://vue3-course-api.hexschool.io/api/tracytung-vue-api/cart/"+t.id;this.isLoading=!0,this.status.loadingItem=t.id;const a={product_id:t.product_id,qty:t.qty};this.$http.put(e,{data:a}).then(t=>{this.getCart(),this.status.loadingItem="",this.isLoading=!1}).catch(t=>{this.$swal({icon:"error",title:""+t.data.message})})}},created(){this.getCart(),this.getProducts(),this.getProductPage(),this.getFavorite(),this.emitter.emit("favorite-qty",this.myFavorite),this.emitter.on("remove-data",t=>{this.getFavorite()})}},B=(a("a7bf"),a("6b0d")),D=a.n(B);const H=D()(A,[["render",G],["__scopeId","data-v-5469332d"]]);e["default"]=H},a7bf:function(t,e,a){"use strict";a("f4ea")},f4ea:function(t,e,a){}}]);
//# sourceMappingURL=chunk-6cb8dd13.7ef22698.js.map