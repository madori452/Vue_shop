(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-087506b5"],{5895:function(t,e,c){"use strict";c.r(e);var l=c("7a23"),s=c("c215"),r=c.n(s);const a=t=>(Object(l["C"])("data-v-502c59a6"),t=t(),Object(l["A"])(),t),n=a(()=>Object(l["h"])("div",{class:"container-fluid d-flex align-items-center justify-content-center px-0"},[Object(l["h"])("h4",{class:"en-font"},"CART"),Object(l["h"])("img",{src:r.a,class:"img-fluid banner",alt:"banner"})],-1)),b={class:"container"},d={class:"row my-5 d-flex justify-content-center"},h={class:"step-line mb-4"},i={class:"col-12 d-flex ps-0 justify-content-center align-items-center en-font mx-auto"},o={class:"circle circle01 col-3"},O=a(()=>Object(l["h"])("p",{class:"step"},"確認訂單資訊",-1)),j={class:"circle circle01 col-3 offset-1"},u=a(()=>Object(l["h"])("p",{class:"step"},"建立個人訂單",-1)),p={class:"circle circle01 col-3 offset-1"},m=a(()=>Object(l["h"])("p",{class:"step"},"付款完成",-1)),g={class:"bg-white col-xl-7 row justify-content-center"},f=a(()=>Object(l["h"])("p",{class:"en-font h4"},"訂單資訊",-1)),y=a(()=>Object(l["h"])("hr",null,null,-1)),x={class:"table align-middle mt-3 mb-2 text-900"},v=a(()=>Object(l["h"])("td",null,"訂單編號",-1)),k=a(()=>Object(l["h"])("td",null,null,-1)),w=a(()=>Object(l["h"])("td",null,"建立日期",-1)),L=a(()=>Object(l["h"])("td",null,null,-1)),_={class:"table align-middle mt-5 text-900"},I=a(()=>Object(l["h"])("thead",null,[Object(l["h"])("th"),Object(l["h"])("th",{class:"ps-3"},"品名"),Object(l["h"])("th",null,"數量"),Object(l["h"])("th",null,"單價")],-1)),z={class:"ps-3"},$={class:"text-end"},C=a(()=>Object(l["h"])("td",{colspan:"3",class:"text-end"},"總計",-1)),q={class:"text-end"},A={class:"table text-900"},J=a(()=>Object(l["h"])("th",{width:"100"},"Email",-1)),M=a(()=>Object(l["h"])("th",null,"姓名",-1)),E=a(()=>Object(l["h"])("th",null,"收件人電話",-1)),G=a(()=>Object(l["h"])("th",null,"收件人地址",-1)),R=a(()=>Object(l["h"])("th",null,"付款狀態",-1)),S={key:0},T={key:1,class:"text-success"},U={key:0,class:"text-end"},W=a(()=>Object(l["h"])("button",{class:"btn btn-primary px-4 text-white en-font rounded-0"},"確認付款去",-1)),B=[W];function D(t,e,c,s,r,a){const W=Object(l["I"])("CustomLoading");return Object(l["z"])(),Object(l["g"])(l["a"],null,[Object(l["k"])(W,{active:r.isLoading},null,8,["active"]),n,Object(l["h"])("div",b,[Object(l["h"])("div",d,[Object(l["h"])("div",h,[Object(l["h"])("ul",i,[Object(l["h"])("li",o,[Object(l["h"])("p",{class:Object(l["s"])(["num d-block mx-auto",{primary:!0}])},"1"),O]),Object(l["h"])("li",j,[Object(l["h"])("p",{class:Object(l["s"])(["num d-block mx-auto",{primary:!0}])},"2"),u]),Object(l["h"])("li",p,[Object(l["h"])("p",{class:Object(l["s"])(["num d-block mx-auto",{primary:r.order.is_paid}])},"3",2),m])])]),Object(l["h"])("div",g,[Object(l["h"])("form",{class:"py-5 px-5",onSubmit:e[0]||(e[0]=Object(l["W"])((...t)=>a.payOrder&&a.payOrder(...t),["prevent"]))},[f,y,Object(l["h"])("table",x,[Object(l["h"])("tbody",null,[Object(l["h"])("tr",null,[v,Object(l["h"])("td",null,Object(l["L"])(r.orderId),1),k])]),Object(l["h"])("tbody",null,[Object(l["h"])("tr",null,[w,Object(l["h"])("td",null,Object(l["L"])(t.$filters.date(r.create_at)),1),L])])]),Object(l["h"])("table",_,[I,Object(l["h"])("tbody",null,[(Object(l["z"])(!0),Object(l["g"])(l["a"],null,Object(l["G"])(r.order.products,t=>(Object(l["z"])(),Object(l["g"])("tr",{key:t.id,style:{height:"100px"}},[Object(l["h"])("td",{style:Object(l["t"])([{width:"100px",height:"60px","background-size":"cover","background-position":"center"},{backgroundImage:`url(${t.product.imageUrl})`}])},null,4),Object(l["h"])("td",z,Object(l["L"])(t.product.title),1),Object(l["h"])("td",null,Object(l["L"])(t.qty)+" / "+Object(l["L"])(t.product.unit),1),Object(l["h"])("td",$,Object(l["L"])(Math.round(t.final_total)),1)]))),128))]),Object(l["h"])("tfoot",null,[Object(l["h"])("tr",null,[C,Object(l["h"])("td",q,Object(l["L"])(Math.round(r.order.total)),1)])])]),Object(l["h"])("table",A,[Object(l["h"])("tbody",null,[Object(l["h"])("tr",null,[J,Object(l["h"])("td",null,Object(l["L"])(r.order.user.email),1)]),Object(l["h"])("tr",null,[M,Object(l["h"])("td",null,Object(l["L"])(r.order.user.name),1)]),Object(l["h"])("tr",null,[E,Object(l["h"])("td",null,Object(l["L"])(r.order.user.tel),1)]),Object(l["h"])("tr",null,[G,Object(l["h"])("td",null,Object(l["L"])(r.order.user.address),1)]),Object(l["h"])("tr",null,[R,Object(l["h"])("td",null,[!1===r.order.is_paid?(Object(l["z"])(),Object(l["g"])("span",S,"尚未付款")):Object(l["f"])("",!0),!0===r.order.is_paid?(Object(l["z"])(),Object(l["g"])("span",T,"付款完成")):Object(l["f"])("",!0)])])])]),!1===r.order.is_paid?(Object(l["z"])(),Object(l["g"])("div",U,B)):Object(l["f"])("",!0)],32)])])])],64)}var F={inject:["emitter"],data(){return{order:{user:{}},orderId:"",isLoading:!1,is_paid:!1,create_at:""}},methods:{getOrder(){const t="https://vue3-course-api.hexschool.io/api/tracytung-vue-api/order/"+this.orderId;this.$http.get(t).then(t=>{t.data.success&&(this.order=t.data.order,this.create_at=t.data.order.create_at,this.emitter.emit("update-qty"))}).catch(t=>{this.$swal({icon:"error",title:""+t.data.message})})},payOrder(){const t="https://vue3-course-api.hexschool.io/api/tracytung-vue-api/pay/"+this.orderId;this.$http.post(t).then(t=>{t.data.success&&(this.getOrder(),this.is_paid=!0)}).catch(t=>{this.$swal({icon:"error",title:""+t.data.message})})}},created(){this.orderId=this.$route.params.orderId,this.getOrder()}},H=(c("66e9"),c("6b0d")),K=c.n(H);const N=K()(F,[["render",D],["__scopeId","data-v-502c59a6"]]);e["default"]=N},6247:function(t,e,c){},"66e9":function(t,e,c){"use strict";c("6247")},c215:function(t,e,c){t.exports=c.p+"img/banner-cart.3775134b.png"}}]);
//# sourceMappingURL=chunk-087506b5.90ada1ae.js.map