{"version":3,"sources":["webpack:///./src/views/Front/Cart.vue?f17d","webpack:///./src/views/Front/Cart.vue","webpack:///./src/views/Front/Cart.vue?2783","webpack:///./src/assets/img/Cart/banner-cart.png","webpack:///./src/assets/img/Cart/cart-pd.png","webpack:///./src/assets/img/Cart/cart-mb.png"],"names":["class","_createElementVNode","type","_hoisted_23","colspan","for","value","_createVNode","_component_CustomLoading","active","$data","_hoisted_1","primary","_hoisted_7","_hoisted_8","carts","_createElementBlock","length","_hoisted_13","_component_router_link","to","_hoisted_14","_hoisted_17","_hoisted_18","_hoisted_20","_Fragment","key","_renderList","item","id","disabled","loadingItem","onClick","$options","_toDisplayString","product","title","coupon","qty","_hoisted_28","_hoisted_29","_hoisted_30","final_total","total","_ctx","currency","_hoisted_34","_hoisted_36","_hoisted_37","$event","placeholder","_component_Form","onSubmit","errors","_hoisted_44","_hoisted_45","_hoisted_47","_component_Field","name","rules","user","email","_component_ErrorMessage","_hoisted_49","_hoisted_51","tel","_hoisted_53","address","_hoisted_55","cols","rows","message","_hoisted_56","data","form","status","isLoading","cart","coupon_code","inject","methods","getCart","url","this","$http","get","then","res","updateCart","product_id","put","catch","err","$swal","icon","addCouponCode","code","post","$httpMessageState","removeCartItem","delete","emitter","emit","createOrder","order","orderId","$router","push","addNum","reduceNum","created","__exports__","render","module","exports"],"mappings":"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","file":"js/chunk-a634b13c.e2594508.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Cart.vue?vue&type=style&index=0&id=1f2b3b93&scoped=true&lang=scss\"","<template>\n  <CustomLoading :active=\"isLoading\" />\n  <!-- Banner -->\n  <div class=\"container-fluid d-flex align-items-center justify-content-center px-0\">\n    <h4 class=\"en-font\">CART</h4>\n    <img src=\"@/assets/img/Cart/banner-cart.png\" class=\"d-lg-block d-none w-100\" alt=\"banner\">\n    <img src=\"@/assets/img/Cart/cart-pd.png\" class=\"d-md-block d-none d-lg-none w-100\" alt=\"Carousel01\">\n    <img src=\"@/assets/img/Cart/cart-mb.png\" class=\"d-sm-block d-md-none w-100\" alt=\"Carousel01\">\n  </div>\n  <!-- 內容 -->\n  <div class=\"container\">\n    <div class=\"row my-5\">\n      <!-- 步驟 -->\n      <div class=\"step-line mb-4\">\n        <ul class=\"col-12 d-flex ps-0 justify-content-center align-items-center en-font mx-auto\">\n          <li class=\"circle circle01 col-3\">\n            <p class=\"num d-block mx-auto\" :class=\"{primary:true}\">1</p>\n            <p class=\"step\">確認訂單資訊</p>\n          </li>\n          <li class=\"circle circle01 col-3  offset-1\">\n            <p class=\"num d-block mx-auto\">2</p>\n            <p class=\"step\">建立個人訂單</p>\n          </li>\n          <li class=\"circle circle01 col-3  offset-1\">\n            <p class=\"num d-block mx-auto\">3</p>\n            <p class=\"step\">付款完成</p>\n          </li>\n        </ul>\n      </div>\n      <!-- 購物列表 -->\n      <div class=\"row mx-auto\"  v-if=\"cart.carts\">\n          <!-- 購物車0-->\n          <div class=\"col-lg-6 mx-auto text-center my-5 cart-none bg-white\" v-if=\"cart.carts.length===0\">\n            <div class=\"go-shop mx-auto d-flex justify-content-center align-items-center flex-column\">\n              <h5 class=\"text-primary en-font\">目前還沒有商品！快去選購吧</h5>\n              <router-link to=\"../user/products\">\n                <button type=\"button\" class=\"shop btn btn-primary py-2 px-5 text-white rounded-0\">選擇商品</button>\n              </router-link>\n            </div>\n          </div>\n          <!-- 購物車列表 -->\n          <div class=\"col-xl-5 cart-list-menu bg-white offset-xl-1\" v-if=\"cart.carts.length>=1\">\n            <div class=\"px-1\">\n              <p class=\"h5 en-font mt-5\">購物清單</p>\n              <hr />\n              <table class=\"table align-middle px-4\">\n                <thead>\n                  <tr>\n                    <th class=\"remove-item\"></th>\n                    <th class=\"title-item\">品名</th>\n                    <th class=\"qty-item\">數量</th>\n                    <th class=\"price-item text-end\">單價</th>\n                  </tr>\n                </thead>\n                <tbody>\n                <template v-if=\"cart.carts\">\n                  <tr v-for=\"item in cart.carts\" :key=\"item.id\">\n                    <td class=\"px-0\">\n                      <button type=\"button\" class=\"btn btn-outline-primary btn-sm btn-cancel\"\n                              :disabled=\"status.loadingItem === item.id\"\n                              @click=\"removeCartItem(item.id)\">\n                        <i class=\"bi bi-x\"></i>\n                      </button>\n                    </td>\n                    <td>\n                      <span class=\"product_title\">{{ item.product.title }}</span>\n                      <div class=\"text-success\" v-if=\"item.coupon\">\n                        已套用優惠券\n                      </div>\n                    </td>\n                    <td>\n                      <div class=\"input-group input-group-sm\">\n                        <button type=\"button\" :disabled=\"item.qty===1\" @click=\"reduceNum(item)\"\n                            class=\"btn btn-primary btn-sm rounded-0\">\n                            -\n                        </button>\n                        <span :disabled=\"item.id===status.loadingItem\" class=\"qty_input border border-2 text-center\">{{ item.qty }}</span>\n                        <button type=\"button\" @click=\"addNum(item)\" class=\"btn btn-primary btn-sm rounded-0\">\n                            +\n                        </button>\n\n                      </div>\n                    </td>\n                    <td class=\"text-end\">\n                      <small v-if=\"cart.final_total !== cart.total\" class=\"text-success\">折扣價：</small>\n                      <span class=\"product_price\">{{ $filters.currency(item.final_total) }}</span>\n                    </td>\n                  </tr>\n                </template>\n                </tbody>\n                <tfoot>\n                <tr>\n                  <td colspan=\"3\" class=\"text-end\">總計</td>\n                  <td class=\"text-end price-total\">{{ $filters.currency(cart.total) }}</td>\n                </tr>\n                <tr v-if=\"cart.final_total !== cart.total\">\n                  <td colspan=\"3\" class=\"text-end text-success\">折扣價</td>\n                  <td class=\"text-end text-success\">{{ $filters.currency(cart.final_total) }}</td>\n                </tr>\n                </tfoot>\n              </table>\n              <!-- 優惠卷 -->\n              <div class=\"row w-100 m-0 coupon-code\">\n                <div class=\"col-12 d-flex justify-content-end\">\n                    <input type=\"text\" class=\"form-control d-inline-block\" v-model=\"coupon_code\" placeholder=\"請輸入優惠碼\">\n                    <button class=\"btn btn-outline-secondary coupon d-inline-block ms-2 col-4\" type=\"button\" @click=\"addCouponCode\">\n                        套用優惠碼\n                    </button>\n                </div>\n              </div>\n            </div>\n          </div>\n          <!-- 表格 -->\n          <div class=\"form-table-info col-xl-5 px-0\"  v-if=\"cart.carts.length>=1\">\n            <div class=\"bg-white\">\n                <div class=\"row\">\n                  <Form class=\"col-md-12 d-flex justify-content-center flex-column form-order\" @submit=\"createOrder\"  v-slot=\"{ errors }\">\n                    <p class=\"h5 en-font mt-5\">訂購人資料</p>\n                    <hr />\n                    <div class=\"mb-3 mt-3\">\n                      <label for=\"email\" class=\"form-label\">Email</label>\n                      <Field id=\"email\" name=\"email\" type=\"email\" class=\"form-control\"\n                                :class=\"{ 'is-invalid': errors['email'] }\"\n                                placeholder=\"請輸入 Email\" rules=\"email|required\"\n                                v-model=\"form.user.email\"></Field>\n                      <ErrorMessage name=\"email\" class=\"invalid-feedback\"></ErrorMessage>\n                    </div>\n\n                    <div class=\"mb-3\">\n                      <label for=\"name\" class=\"form-label\">姓名</label>\n                      <Field id=\"name\" name=\"姓名\" type=\"text\" class=\"form-control\"\n                                :class=\"{ 'is-invalid': errors['姓名'] }\"\n                                placeholder=\"請輸入姓名\" rules=\"required\"\n                                v-model=\"form.user.name\"></Field>\n                      <ErrorMessage name=\"姓名\" class=\"invalid-feedback\"></ErrorMessage>\n                    </div>\n\n                    <div class=\"mb-3\">\n                      <label for=\"tel\" class=\"form-label\">電話</label>\n                      <Field id=\"tel\" name=\"電話\" type=\"tel\" class=\"form-control\"\n                                :class=\"{ 'is-invalid': errors['電話'] }\"\n                                placeholder=\"請輸入電話\" rules=\"required\"\n                                v-model=\"form.user.tel\"></Field>\n                      <ErrorMessage name=\"電話\" class=\"invalid-feedback\"></ErrorMessage>\n                    </div>\n\n                    <div class=\"mb-3\">\n                      <label for=\"address\" class=\"form-label\">地址</label>\n                      <Field id=\"address\" name=\"地址\" type=\"text\" class=\"form-control\"\n                                :class=\"{ 'is-invalid': errors['地址'] }\"\n                                placeholder=\"請輸入地址\" rules=\"required\"\n                                v-model=\"form.user.address\"></Field>\n                      <ErrorMessage name=\"地址\" class=\"invalid-feedback\"></ErrorMessage>\n                    </div>\n\n                    <div class=\"mb-3\">\n                      <label for=\"message\" class=\"form-label\">留言</label>\n                      <textarea name=\"\" id=\"message\" class=\"form-control\" cols=\"30\" rows=\"2\"\n                                v-model=\"form.message\"></textarea>\n                    </div>\n                    <div class=\"text-end\">\n                      <input type=\"submit\" class=\"btn btn-primary w-100 mb-5 py-2 text-white rounded-0\" value=\"送出訂單\">\n                    </div>\n                  </Form>\n              </div>\n            </div>\n          </div>\n      </div>\n\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      form: {\n        user: {\n          name: '',\n          email: '',\n          tel: '',\n          address: ''\n        },\n        message: ''\n      },\n      status: {\n        loadingItem: '' // 對應品項id\n      },\n      isLoading: false,\n      cart: {},\n      coupon_code: ''\n    }\n  },\n\n  inject: ['emitter'],\n  methods: {\n\n    // 取得購物車列表\n    getCart () {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\n      this.isLoading = true\n      this.$http.get(url).then((res) => {\n        this.cart = res.data.data\n        this.isLoading = false\n      })\n    },\n    // 監聽購物車變動\n    updateCart (item) {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${item.id}`\n      this.isLoading = true\n      this.status.loadingItem = item.id\n      const cart = {\n        product_id: item.product_id,\n        qty: item.qty\n      }\n      this.$http.put(url, { data: cart }).then((res) => {\n        this.isLoading = false\n        this.getCart()\n        this.status.loadingItem = ''\n      }).catch(err => {\n        this.$swal({\n          icon: 'error',\n          title: `${err.data.message}`\n        })\n      })\n    },\n    addCouponCode () {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/coupon`\n      const coupon = {\n        code: this.coupon_code\n      }\n      this.$http.post(url, { data: coupon }).then((res) => {\n        this.$httpMessageState(res, '加入優惠券')\n        this.getCart()\n      }).catch(err => {\n        this.$swal({\n          icon: 'error',\n          title: `${err.data.message}`\n        })\n      })\n    },\n    removeCartItem (id) {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${id}`\n      this.isLoading = true\n      this.status.loadingItem = id\n      this.$http.delete(url).then((res) => {\n        this.status.loadingItem = ''\n        this.emitter.emit('update-qty')\n\n        this.$httpMessageState(res, '刪除購物車品項')\n        this.getCart()\n        this.isLoading = false\n      }).catch(err => {\n        this.$swal({\n          icon: 'error',\n          title: `${err.data.message}`\n        })\n      })\n    },\n    // 建立訂單\n    createOrder () {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`\n      const order = this.form\n      this.$http.post(url, { data: order })\n        .then((res) => {\n          this.orderId = res.data.orderId\n          this.$router.push(`/checkout/${this.orderId}`)\n        }).catch(err => {\n          this.$swal({\n            icon: 'error',\n            title: `${err.data.message}`\n          })\n        })\n    },\n    addNum (item) {\n      if (item.product_id === item.product.id) {\n        item.qty += 1\n        this.updateCart(item)\n      }\n    },\n    // 減少數量按鈕\n    reduceNum (item) {\n      if (item.product_id === item.product.id) {\n        item.qty -= 1\n        this.updateCart(item)\n      }\n    }\n\n  },\n  created () {\n    this.getCart()\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/assets/scss/main.scss';\nh4.en-font{\n  position: absolute;\n  z-index: 2;\n  color: #fff;\n  font-size: $text_titile;\n}\n.step,.step-line {\n  position: relative;\n}\n.step-line:after{\n  display: block;\n  content: '';\n  width: 360px;\n  height: 2px;\n  position: absolute;\n  left: calc(50% - 176px);\n  top: 15px;\n  z-index: 0;\n  background-color: #ddd;\n  @include pad{\n    width: 340px;\n    left: calc(50% - 158px);\n  }\n  @include phone{\n    width: 298px;\n    left: calc(50% - 149px);\n  }\n}\n.step-line ul{\n  width: 500px;\n  @include phone{\n    width: 100%;\n  }\n}\np.step{\n  @include phone{\n    font-size: 14px;\n  }\n}\n.step-line ul li{\n  list-style: none;\n}\n.step-line .step{\n  text-align: center;\n}\n.step-line .num{\n  z-index: 1;\n  position: relative;\n  width: 30px;\n  height: 30px;\n  text-align: center;\n  color: #fff;\n  line-height: 30px;\n  border-radius: 50%;\n  font-size: 20px;\n  background-color: #aaa;\n}\n.product_price,.price-total{\n  @include phone{\n    font-size: 14px;\n  }\n}\n.primary{\n  background-color: $primary ;\n}\n.remove-item{\n  width: 10%;\n}\n.title-item{\n  width: 50%;\n  @include phone{\n    font-size: 14px;\n  }\n  @include phone-sm{\n    width: 47%;\n  }\n}\n.qty-item{\n  width: 25%;\n  @include phone{\n    width: 100px;\n    font-size: 14px;\n  }\n  @include phone{\n    width: 26%;\n  }\n  @include phone-s{\n    width: 47%;\n  }\n}\n.price-item{\n  width: 50px;\n  @include phone{\n    width: 72px;\n    font-size: 14px;\n  }\n}\n.text-success{\n  @include phone{\n    font-size: 13px;\n  }\n}\nspan.border.qty_input{\n  width: 40px;\n  font-size: 15px;\n  @include phone{\n    width: 30px;\n    font-size: 14px;\n    line-height: 26px;\n  }\n}\nspan.product_title{\n  font-size: 16px;\n  @include phone{\n     font-size: 14px;\n  }\n}\n.cart-list-menu{\n  position: relative;\n  z-index: 0;\n  height: auto;\n  margin-right: 20px;\n}\n.cart-none{\n  padding: 100px 0;\n}\n.form-control{\n  width: 200px;\n  border-radius: 0px;\n}\nbutton.coupon{\n  font-size: 16px;\n  @include phone{\n    font-size: 14px;\n  }\n}\n.btn-next{\n  @include button-primary-cart;\n  width: 110px;\n  height: 40px;\n  border-radius: 5px;\n  font-size: 16px;\n}\n\n.btn-cancel{\n  width: 30px;\n  height: 30px;\n}\n.form-control{\n  width: 100%;\n  margin: auto;\n}\n.form-order{\n  padding: 0px 30px;\n  @include phone{\n    padding: 0px 40px;\n  }\n}\n.coupon-code{\n  @include pad{\n    padding-bottom: 40px;\n  }\n}\n.form-table-info {\n  @include pad{\n    margin-top: 20px;\n  }\n}\n</style>\n","import { render } from \"./Cart.vue?vue&type=template&id=1f2b3b93&scoped=true\"\nimport script from \"./Cart.vue?vue&type=script&lang=js\"\nexport * from \"./Cart.vue?vue&type=script&lang=js\"\n\nimport \"./Cart.vue?vue&type=style&index=0&id=1f2b3b93&scoped=true&lang=scss\"\n\nimport exportComponent from \"/Users/Cindy/Desktop/Vue_final/final_project/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1f2b3b93\"]])\n\nexport default __exports__","module.exports = __webpack_public_path__ + \"img/banner-cart.3775134b.png\";","module.exports = __webpack_public_path__ + \"img/cart-pd.3635a89c.png\";","module.exports = __webpack_public_path__ + \"img/cart-mb.1e24b860.png\";"],"sourceRoot":""}